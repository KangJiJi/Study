# Interpreter(해석자)

## 의도

&nbsp;어떤 언어에 대해, 그 언어의 문법에 대한 표현을 정의하면서 그것을 사용하여 해당 언어로 기술된 문장을 해석하는 해석자를 함께 정의합니다.

## 동기

&nbsp;특정한 종류의 문제가 자주 발생할 때는, 간결한 언어로문제를 문장으로 표현하는 것이 나을 수 있다. 그러고 나서 문장을 해석하는 해석자를 만들어 문제를 해결한다. 해석자 패턴은 간단한 언어의 문법을 정의하는 방법과 그 언어로 문장을 구성하는 방법, 이들 문장을 해석하는 방법을 설명한다.

## 활용성

- 정의할 언어의 문법이 간단할 때
- 효율성은 별로 고려하지 않아도 될 때

## 참여자

- AbstractExpression
- TerminalExpression
- NonterminalExpression
- Context
- Client

## 협력 방법

&nbsp;NonterminalExpression과 TerminalExpression 인스턴스들로 추상 구문 트리를 만든다. 그리고 Interpret 연산을 호출한다. 각 NonterminalExpression 노드는 또 다른 서브 표현식에 대한 Interpret를 이용하여 자신의 Interpret연산을 정의한다. 또한 각 노드에 정의한 Interpret연산은 해석자의 상태를 저장하거나 그것을 알기 위해서 문맥 정보를 이용한다.

## 결과

- 문법의 변경과 확장이 쉽다.
- 문법의 구현이 용이하다.
- 복잡한 문법은 관리하기 어렵다.
- 표현식을 해석하는 새로운 방법을 추가할 수 있다.

## 구현

- 추상 구문 트리를 생성한다.
- Interpret 연산을 정의한다.
- 플라이급 패턴을 적용하여 단말 기호를 공유한다.

## 예제 코드

&nbsp;책 참고

## 관련 패턴

&nbsp;추상 구문 트리는 복합체 패턴의 한 인스턴스로 볼 수 있다. 또한 구문 트리 내에 기호를 공유하기 위해서 플라이급 패턴을 적용할 수 있다. 그리고 반복자 패턴을 이용해서 자신의 구조를 순회하고, 방문자 패턴을 이용해서 각 노드에 대한 상태를 관리할 수 있다.
